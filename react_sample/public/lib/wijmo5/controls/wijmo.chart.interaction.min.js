/*
    *
    * Wijmo Library 5.20153.117
    * http://wijmo.c1.grapecity.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the Wijmo Commercial License.
    * 
    * http://wijmo.c1.grapecity.com/license/
    *
    */
var wijmo;(function(n){(function(t){(function(t){'use strict';var i=function(){function t(t,i,r,u){this._isVisible=!0;this._buttonsVisible=!0;this._minScale=0;this._seamless=!1;this._rsContainer=null;this._rsEle=null;this._decBtn=null;this._incBtn=null;this._rsContent=null;this._minHandler=null;this._rangeHandler=null;this._maxHandler=null;this._wrapperSliderMousedown=null;this._wrapperDocMouseMove=null;this._wrapperDocMouseup=null;this._wrapperBtnMousedown=null;this._wrapperRangeSpaceMousedown=null;this._wrapperRangeMouseleave=null;this._isTouch=!1;this._slidingInterval=null;this._rangeSliderRect=null;this._isHorizontal=!0;this._isBtnMousedown=!1;this._needSpaceClick=!1;this._hasButtons=!0;this._movingEle=null;this._movingOffset=null;this._range=null;this._startPt=null;this._minPos=0;this._maxPos=1;this.rangeChanged=new n.Event;this.rangeChanging=new n.Event;t||n.assert(!1,'The container cannot be null.');this._isTouch='ontouchstart'in window;this._needSpaceClick=i;this._hasButtons=r;n.copy(this,u);this._createSlider(t)}return Object.defineProperty(t.prototype,"buttonsVisible",{get:function(){return this._buttonsVisible},set:function(t){if(t!=this._buttonsVisible){if(this._buttonsVisible=n.asBoolean(t),!this._rsContainer||!this._hasButtons)return;this._refresh()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHorizontal",{get:function(){return this._isHorizontal},set:function(t){if(t!=this._isHorizontal){if(this._isHorizontal=n.asBoolean(t),!this._rsContainer)return;this._invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._isVisible},set:function(t){if(t!=this._isVisible){if(this._isVisible=n.asBoolean(t),!this._rsContainer)return;this._rsContainer.style.visibility=this._isVisible?'visible':'hidden'}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minScale",{get:function(){return this._minScale},set:function(t){t>=0&&t!=this._minScale&&(this._minScale=n.asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"seamless",{get:function(){return this._seamless},set:function(t){t!=this._seamless&&(this._seamless=n.asBoolean(t))},enumerable:!0,configurable:!0}),t.prototype.onRangeChanged=function(n){this.rangeChanged.raise(this,n)},t.prototype.onRangeChanging=function(n){this.rangeChanging.raise(this,n)},Object.defineProperty(t.prototype,"_isSliding",{get:function(){return this._startPt!==null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_handleWidth",{get:function(){return this._minHandler.offsetWidth},enumerable:!0,configurable:!0}),t.prototype._createSlider=function(i){var r=this._isHorizontal?t._HRANGESLIDER:t._VRANGESLIDER,u=this._isHorizontal?'wj-glyph-left':'wj-glyph-down',f=this._isHorizontal?'wj-glyph-right':'wj-glyph-up';this._rsContainer=i;this._rsContainer.style.visibility=this._isVisible?'visible':'hidden';this._rsEle=n.createElement('<div class="wj-chart-rangeslider '+r+'"></div>');this._rsContainer.appendChild(this._rsEle);this._hasButtons&&(this._decBtn=n.createElement('<button class="wj-rangeslider-decbtn wj-btn wj-btn-default" type="button" tabindex="-1"><span class="'+u+' '+t._RANGESLIDER_DECBTN+'"><\/span><\/button>'),this._rsEle.appendChild(this._decBtn),this._incBtn=n.createElement('<button class="wj-rangeslider-incbtn wj-btn wj-btn-default" type="button" tabindex="-1"><span class="'+f+' '+t._RANGESLIDER_INCBTN+'"><\/span><\/button>'),this._rsEle.appendChild(this._incBtn));this._rsContent=n.createElement('<div class="wj-rangeslider-content"><div class="wj-rangeslider-rangehandle"><\/div><div class="wj-rangeslider-minhandle"><\/div><div class="wj-rangeslider-maxhandle"><\/div>');this._rsEle.appendChild(this._rsContent);this._minHandler=this._rsContent.querySelector('.'+t._RANGESLIDER_MINHANDLE);this._rangeHandler=this._rsContent.querySelector('.'+t._RANGESLIDER_RANGEHANDLE);this._maxHandler=this._rsContent.querySelector('.'+t._RANGESLIDER_MAXHANDLE);this._wrapperSliderMousedown=this._onSliderMousedown.bind(this);this._wrapperDocMouseMove=this._onDocMouseMove.bind(this);this._wrapperDocMouseup=this._onDocMouseup.bind(this);this._wrapperRangeSpaceMousedown=this._onRangeSpaceMousedown.bind(this);this._wrapperRangeMouseleave=this._onRangeMouseleave.bind(this);this._wrapperBtnMousedown=this._onBtnMousedown.bind(this);this._switchEvent(!0)},t.prototype._switchEvent=function(n){var t=n?'addEventListener':'removeEventListener',i=n?'addHandler':'removeHandler';this._rsContainer&&(this._needSpaceClick&&this._rsEle[t]('mousedown',this._wrapperRangeSpaceMousedown),this._rsEle[t]('mouseleave',this._wrapperRangeMouseleave),this._rsContent[t]('mousedown',this._wrapperSliderMousedown),this._hasButtons&&(this._decBtn[t]('mousedown',this._wrapperBtnMousedown),this._incBtn[t]('mousedown',this._wrapperBtnMousedown)),document[t]('mousemove',this._wrapperDocMouseMove),document[t]('mouseup',this._wrapperDocMouseup),'ontouchstart'in window&&(this._needSpaceClick&&this._rsEle[t]('touchstart',this._wrapperRangeSpaceMousedown),this._rsContent[t]('touchstart',this._wrapperSliderMousedown),this._hasButtons&&(this._decBtn[t]('touchstart',this._wrapperBtnMousedown),this._incBtn[t]('touchstart',this._wrapperBtnMousedown)),document[t]('touchmove',this._wrapperDocMouseMove),document[t]('touchend',this._wrapperDocMouseup)))},t.prototype._onSliderMousedown=function(i){this._isVisible&&(this._movingEle=i.srcElement||i.target,this._startPt=i instanceof MouseEvent?new n.Point(i.pageX,i.pageY):new n.Point(i.changedTouches[0].pageX,i.changedTouches[0].pageY),n.removeClass(this._minHandler,t._RANGESLIDER_HANDLE_ACTIVE),n.removeClass(this._maxHandler,t._RANGESLIDER_HANDLE_ACTIVE),this._movingOffset=n.getElementRect(this._movingEle),this._movingEle!=this._rangeHandler?(this._isHorizontal?this._movingOffset.left+=.5*this._movingEle.offsetWidth:this._movingOffset.top+=.5*this._movingEle.offsetHeight,n.addClass(this._movingEle,t._RANGESLIDER_HANDLE_ACTIVE)):this._range=this._maxPos-this._minPos,i.preventDefault())},t.prototype._onDocMouseMove=function(t){if(this._isVisible&&this._startPt){var i=t instanceof MouseEvent?new n.Point(t.pageX,t.pageY):new n.Point(t.changedTouches[0].pageX,t.changedTouches[0].pageY);this._onMove(i)}},t.prototype._onMove=function(i){var u=this,o=this._startPt,s=this._movingOffset,f=this._plotBox,e=this._range,h=this._movingEle,c=this._minHandler,y=this._rangeHandler,l=this._maxHandler,a,v,r;o&&s&&(this._isHorizontal?(a=s.left+i.x-o.x,r=(a-f.x)/f.width):(v=s.top+i.y-o.y,r=1-(v-f.y)/f.height),r<0?r=0:r>1&&(r=1),h===c?this._seamless?r>=this._maxPos?(u._minPos=u._maxPos,u._movingEle=l,n.removeClass(this._minHandler,t._RANGESLIDER_HANDLE_ACTIVE),n.addClass(this._maxHandler,t._RANGESLIDER_HANDLE_ACTIVE)):this._minPos=r:(r>this._maxPos-this._minScale&&(r=this._maxPos-this._minScale),this._minPos=r):h===l?this._seamless?r<=this._minPos?(u._maxPos=u._minPos,u._movingEle=c,n.removeClass(this._maxHandler,t._RANGESLIDER_HANDLE_ACTIVE),n.addClass(this._minHandler,t._RANGESLIDER_HANDLE_ACTIVE)):this._maxPos=r:(r<this._minPos+this._minScale&&(r=this._minPos+this._minScale),this._maxPos=r):h===y&&(this._isHorizontal?(this._minPos=r,this._maxPos=this._minPos+e,this._maxPos>=1&&(this._maxPos=1,this._minPos=this._maxPos-e)):(this._maxPos=r,this._minPos=this._maxPos-e,this._minPos<=0&&(this._minPos=0,this._maxPos=this._minPos+e))),this._updateElesPosition(),this.onRangeChanging())},t.prototype._onDocMouseup=function(){this._isVisible&&(this._clearInterval(),this._isBtnMousedown=!1,this._startPt&&(this.onRangeChanged(),this._startPt=null,this._movingOffset=null),n.removeClass(this._minHandler,t._RANGESLIDER_HANDLE_ACTIVE),n.removeClass(this._maxHandler,t._RANGESLIDER_HANDLE_ACTIVE))},t.prototype._onRangeSpaceMousedown=function(t){var u=t instanceof MouseEvent?new n.Point(t.pageX,t.pageY):new n.Point(t.changedTouches[0].pageX,t.changedTouches[0].pageY),f=n.getElementRect(this._rsContent),r=n.getElementRect(this._rangeHandler),e=t.srcElement||t.target,i=0;(t.stopPropagation(),t.preventDefault(),e===this._rsContent||e===this._rsEle)&&(this._isHorizontal?(i=r.width/f.width,u.x<r.left?i=-1*i:u.x>r.left+r.width&&(i=1*i)):(i=r.height/f.height,u.y<r.top?i=1*i:u.y>r.top+r.height&&(i=-1*i)),i!==0&&this._doSliding(i,u))},t.prototype._onRangeMouseleave=function(n){(n.stopPropagation(),n.preventDefault(),this._isBtnMousedown)&&(this._clearInterval(),this.onRangeChanged())},t.prototype._onBtnMousedown=function(i){var u=i.srcElement||i.target,r=0;if(i.stopPropagation(),i.preventDefault(),n.hasClass(u,t._RANGESLIDER_DECBTN)){if(this._minPos===0)return;r=-.05}else if(n.hasClass(u,t._RANGESLIDER_INCBTN)){if(this._maxPos===1)return;r=.05}this._isBtnMousedown=!0;r!==0&&this._doSliding(r)},t.prototype._refresh=function(t){var r=0,i,f,u=n.getElementRect(this._rsContainer);(t&&(this._rangeSliderRect=t),this._rangeSliderRect)&&(this._hasButtons&&this._buttonsVisible?(this._decBtn.style.display='block',this._incBtn.style.display='block',r=this._isHorizontal?this._decBtn.offsetWidth+this._minHandler.offsetWidth/2:this._decBtn.offsetHeight+this._minHandler.offsetHeight/2):(this._hasButtons&&(this._decBtn.style.display='none',this._incBtn.style.display='none'),r=this._isHorizontal?this._minHandler.offsetWidth/2:this._minHandler.offsetHeight/2),i=this._getRsRect(),this._isHorizontal?(i.left-=this._minHandler.offsetWidth/2,i.width+=this._minHandler.offsetWidth,f={left:r,width:i.width-r*2}):(i.top-=this._minHandler.offsetHeight/2,i.height+=this._minHandler.offsetHeight,f={top:r,height:i.height-r*2}),n.setCss(this._rsEle,i),n.setCss(this._rsContent,f),u=n.getElementRect(this._rsContent),this._plotBox={x:u.left,y:u.top,width:u.width,height:u.height},this._updateElesPosition())},t.prototype._updateElesPosition=function(){var i=this._minHandler,o=this._rangeHandler,r=this._maxHandler,n=this._plotBox,u,f,e,t=this._isHorizontal;n&&(u=t?{left:this._minPos*n.width-.5*i.offsetWidth}:{top:(1-this._minPos)*n.height-.5*r.offsetHeight},f=t?{left:this._minPos*n.width,width:(this._maxPos-this._minPos)*n.width}:{top:(1-this._maxPos)*n.height,height:(this._maxPos-this._minPos)*n.height},e=t?{left:this._maxPos*n.width-.5*r.offsetWidth}:{top:(1-this._maxPos)*n.height-.5*i.offsetHeight},this._refreshSlider(u,f,e))},t.prototype._refreshSlider=function(t,i,r){n.setCss(this._minHandler,t);n.setCss(this._rangeHandler,i);n.setCss(this._maxHandler,r)},t.prototype._invalidate=function(){var i,r;this._rsContainer&&(i=this._isHorizontal?t._HRANGESLIDER:t._VRANGESLIDER,r=this._isHorizontal?t._VRANGESLIDER:t._HRANGESLIDER,n.removeClass(this._rsEle,r),n.addClass(this._rsEle,i),[this._rsEle,this._rsContent,this._minHandler,this._maxHandler,this._rangeHandler].forEach(function(n){n.removeAttribute("style")}),this._refresh())},t.prototype._changeRange=function(n){var t=this._maxPos-this._minPos;n<0&&this._minPos===0||n>0&&this._maxPos===1||(n<0?(this._minPos+=n,this._minPos=this._minPos<0?0:this._minPos,this._maxPos=this._minPos+t):(this._maxPos+=n,this._maxPos=this._maxPos>1?1:this._maxPos,this._minPos=this._maxPos-t),this._updateElesPosition())},t.prototype._doSliding=function(t,i){var r=n.getElementRect(this._rsContent),u=n.getElementRect(this._rangeHandler);this._clearInterval();this._startPt=new n.Point;this._changeRange(t);this.onRangeChanged();this._setSlidingInterval(t,i)},t.prototype._setSlidingInterval=function(t,i){var r=this,f,u;this._slidingInterval=window.setInterval(function(){if(i)if(f=n.getElementRect(r._rsContent),u=n.getElementRect(r._rangeHandler),r._isHorizontal){if(i.x>=u.left&&i.x<=u.left+u.width){r._clearInterval();return}}else if(i.y>=u.top&&i.y<=u.top+u.height){r._clearInterval();return}r._changeRange(t);r.onRangeChanged()},200)},t.prototype._clearInterval=function(){this._slidingInterval&&window.clearInterval(this._slidingInterval)},t.prototype._getRsRect=function(){var n=this._rangeSliderRect,t={};if(n)return['left','top','width','height'].forEach(function(i){n[i]&&(t[i]=n[i])}),t},t._HRANGESLIDER='wj-chart-hrangeslider',t._VRANGESLIDER='wj-chart-vrangeslider',t._RANGESLIDER_DECBTN='wj-rangeslider-decbtn',t._RANGESLIDER_INCBTN='wj-rangeslider-incbtn',t._RANGESLIDER_RANGEHANDLE='wj-rangeslider-rangehandle',t._RANGESLIDER_MINHANDLE='wj-rangeslider-minhandle',t._RANGESLIDER_MAXHANDLE='wj-rangeslider-maxhandle',t._RANGESLIDER_HANDLE_ACTIVE='wj-rangeslider-handle-active',t}();t._RangeSlider=i})(t.interaction||(t.interaction={}));var i=t.interaction})(n.chart||(n.chart={}));var t=n.chart})(wijmo||(wijmo={})),function(n){(function(t){(function(i){'use strict';(function(n){n[n.X=0]="X";n[n.Y=1]="Y"})(i.Orientation||(i.Orientation={}));var r=i.Orientation,u=function(){function u(t,i){this._isVisible=!0;this._min=null;this._max=null;this._orientation=0;this._seamless=!1;this._chart=null;this._rangeSelectorEle=null;this._rangeSlider=null;this.rangeChanged=new n.Event;t||n.assert(!1,'The FlexChart cannot be null.');this._chart=t;n.copy(this,i);this._createRangeSelector()}return Object.defineProperty(u.prototype,"isVisible",{get:function(){return this._isVisible},set:function(t){if(t!=this._isVisible){if(this._isVisible=n.asBoolean(t),!this._rangeSlider)return;this._rangeSlider.isVisible=t}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"min",{get:function(){return this._min},set:function(t){if(t!==this._min){var i=n.asNumber(t,!0,!1),r=!1;if(i===null||i===undefined||isNaN(i)||this._max===undefined||this._max===null?(this._min=i,r=!0):i<=this._max&&(this._min=i,r=!0),!this._rangeSlider)return;r&&this._changeRange()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"max",{get:function(){return this._max},set:function(t){if(t!==this._max){var i=n.asNumber(t,!0,!1),r=!1;if(i===null||i===undefined||isNaN(i)?(this._max=i,r=!0):i>=this._min&&(this._max=i,r=!0),!this._rangeSlider)return;r&&this._changeRange()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"orientation",{get:function(){return this._orientation},set:function(t){if(t!==this._orientation){if(this._orientation=n.asEnum(t,r),!this._rangeSlider)return;this._rangeSlider.isHorizontal=t===0}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"seamless",{get:function(){return this._seamless},set:function(t){if(t!==this._seamless){if(this._seamless=n.asBoolean(t,!0),!this._rangeSlider)return;this._rangeSlider.seamless=t}},enumerable:!0,configurable:!0}),u.prototype.onRangeChanged=function(n){this.rangeChanged.raise(this,n)},u.prototype.remove=function(){this._rangeSelectorEle&&(this._chart.hostElement.removeChild(this._rangeSelectorEle),this._switchEvent(!1),this._rangeSelectorEle=null,this._rangeSlider=null)},u.prototype._createRangeSelector=function(){var t=this._chart,r=t.hostElement,u=this._orientation===0;this._rangeSelectorEle=n.createElement('<div class="wj-chart-rangeselector-container"></div>');this._rangeSlider=new i._RangeSlider(this._rangeSelectorEle,!1,!1,{isHorizontal:u,isVisible:this._isVisible,seamless:this._seamless});r.appendChild(this._rangeSelectorEle);this._switchEvent(!0)},u.prototype._switchEvent=function(n){var t=n?'addHandler':'removeHandler';this._chart.hostElement&&(this._rangeSlider.rangeChanged[t](this._updateRange,this),this._chart.rendered[t](this._refresh,this))},u.prototype._refresh=function(){var f=this._chart.hostElement,r,u,i,e=n.getElementRect(this._rangeSelectorEle);r=f.querySelector('.'+t.FlexChart._CSS_PLOT_AREA);u=n.getElementRect(r);i=r.getBBox();this._adjustMinAndMax();this._rangeSlider._refresh({left:i.x,top:u.top-e.top,width:i.width,height:i.height})},u.prototype._adjustMinAndMax=function(){var t=this,l=t._chart,e=t._rangeSlider,u=t._min,f=t._max,i=t._orientation===0?l.axisX:l.axisY,o=n.isDate(i.actualMin)?i.actualMin.valueOf():i.actualMin,s=n.isDate(i.actualMax)?i.actualMax.valueOf():i.actualMax,a=s-o,r,h,c;(t._min=u===null||isNaN(u)||u===undefined||u<o||u>s?o:u,t._max=f===null||isNaN(f)||f===undefined||f<o||f>s?s:f,r=this._chart._plotRect,r)&&(this._orientation===0?(h=(i.convert(t._min)-r.left)/r.width,e._minPos=h,c=(i.convert(t._max)-r.left)/r.width,e._maxPos=c):(h=(r.top-i.convert(t._min))/r.height+1,e._minPos=h,c=(r.top-i.convert(t._max))/r.height+1,e._maxPos=c))},u.prototype._changeRange=function(){(this._adjustMinAndMax(),this._rangeSelectorEle)&&(this._rangeSlider._refresh(),this.onRangeChanged())},u.prototype._updateRange=function(){var r=this._rangeSlider,u,t,f,e,l,i,o,s,h,c;u=this._chart;t=this._orientation===0?u.axisX:u.axisY;f=n.isDate(t.actualMin)?t.actualMin.valueOf():t.actualMin;e=n.isDate(t.actualMax)?t.actualMax.valueOf():t.actualMax;l=e-f;i=this._chart._plotRect;this._orientation===0?(o=i.left+r._minPos*i.width,this._min=t.convertBack(o),s=i.left+r._maxPos*i.width,this._max=t.convertBack(s)):(h=i.top+(1-r._minPos)*i.height,this._min=t.convertBack(h),c=i.top+(1-r._maxPos)*i.height,this._max=t.convertBack(c));this.onRangeChanged()},u}();i.RangeSelector=u})(t.interaction||(t.interaction={}));var i=t.interaction})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}))